<!doctype html>
<!--
 @license
 Copyright 2025 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<!--[START maps_deckgl_kml_updated]-->
<html>
    <head>
        <title>deck.gl KMLLoader and Google Maps Platform</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!-- Use Material Design Progress indicator -->
        <link
            href="https://unpkg.com/material-components-web@6.0.0/dist/material-components-web.css"
            rel="stylesheet"
        />
        <script src="https://unpkg.com/material-components-web@6.0.0/dist/material-components-web.min.js"></script>
        <script src="https://unpkg.com/deck.gl@8.9.22/dist.min.js"></script>
        <script src="https://unpkg.com/@deck.gl/google-maps@8.9.22/dist.min.js"></script>

        <link rel="stylesheet" href="style.css" />

        <script src="index.js" type="module" defer></script>
    </head>
    <body>
        <div
            role="progressbar"
            class="mdc-linear-progress"
            aria-label="Data Progress Bar"
        >
            <div class="mdc-linear-progress__buffer">
                <div class="mdc-linear-progress__buffer-bar"></div>
                <div class="mdc-linear-progress__buffer-dots"></div>
            </div>
            <div
                class="mdc-linear-progress__bar mdc-linear-progress__primary-bar"
            >
                <span class="mdc-linear-progress__bar-inner"></span>
            </div>
            <div
                class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar"
            >
                <span class="mdc-linear-progress__bar-inner"></span>
            </div>
        </div>
        <script>
            var progress, progressDiv
            progressDiv = document.querySelector('.mdc-linear-progress')
            progress = new mdc.linearProgress.MDCLinearProgress(progressDiv)
            progress.open()
            progress.determinate = false
            progress.done = function () {
                progress.close()
                progressDiv.remove()
            }
        </script>

        <h1>Deck.gl KMLLoader</h1>

        <div id="map"></div>

        <div id="legend" class="legend">
            <h3>
                Earthquake <br />
                Magnitude
            </h3>
        </div>

        <div id="tooltip" class="tooltip"></div>

        <script>
            ;((g) => {
                var h,
                    a,
                    k,
                    p = 'The Google Maps JavaScript API',
                    c = 'google',
                    l = 'importLibrary',
                    q = '__ib__',
                    m = document,
                    b = window
                b = b[c] || (b[c] = {})
                var d = b.maps || (b.maps = {}),
                    r = new Set(),
                    e = new URLSearchParams(),
                    u = () =>
                        h ||
                        (h = new Promise(async (f, n) => {
                            await (a = m.createElement('script'))
                            e.set('libraries', [...r] + '')
                            for (k in g)
                                e.set(
                                    k.replace(
                                        /[A-Z]/g,
                                        (t) => '_' + t[0].toLowerCase()
                                    ),
                                    g[k]
                                )
                            e.set('callback', c + '.maps.' + q)
                            a.src = `https://maps.${c}apis.com/maps/api/js?` + e
                            d[q] = f
                            a.onerror = () =>
                                (h = n(Error(p + ' could not load.')))
                            a.nonce =
                                m.querySelector('script[nonce]')?.nonce || ''
                            m.head.append(a)
                        }))
                d[l]
                    ? console.warn(p + ' only loads once. Ignoring:', g)
                    : (d[l] = (f, ...n) =>
                          r.add(f) && u().then(() => d[l](f, ...n)))
            })({ key: 'AIzaSyA6myHzS10YXdcazAFalmXvDkrYCp5cLc8', v: 'weekly' })
        </script>
    </body>
</html>
<!--[END maps_deckgl_kml_updated]-->
