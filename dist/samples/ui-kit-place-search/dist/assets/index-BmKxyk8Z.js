(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}})();/*
 * @license
 * Copyright 2025 Google LLC. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const r=document.querySelector("gmp-map"),p=document.querySelector("gmp-place-list"),u=document.querySelector(".type-select"),s=document.querySelector("gmp-place-details");let m=document.querySelector("gmp-advanced-marker"),c={},l;async function g(){await google.maps.importLibrary("places"),await google.maps.importLibrary("maps");const{spherical:a}=await google.maps.importLibrary("geometry");l=new google.maps.InfoWindow;function i(t){const o=a.computeDistanceBetween(t.getNorthEast(),t.getSouthWest());return{center:t.getCenter(),radius:o/2}}y(),r.innerMap.setOptions({mapTypeControl:!1,clickableIcons:!1}),u.addEventListener("change",t=>{for(m in c)console.log(m),c[m].map=null;c={},u.value&&(p.configureFromSearchNearbyRequest({locationRestriction:i(r.innerMap.getBounds()),includedPrimaryTypes:[u.value]}).then(f),p.addEventListener("gmp-placeselect",({place:o})=>{c[o.id].click()}))})}async function f(){const{AdvancedMarkerElement:a}=await google.maps.importLibrary("marker"),{LatLngBounds:i}=await google.maps.importLibrary("core"),t=new i;p.places.length>0&&p.places.forEach(o=>{let e=new a({map:r.innerMap,position:o.location});c[o.id]=e,t.extend(o.location),e.addListener("gmp-click",n=>{l.isOpen&&l.close(),s.configureFromPlace(o),s.style.width="350px",l.setOptions({content:s}),l.open({anchor:e,map:r.innerMap}),s.addEventListener("gmp-load",()=>{r.innerMap.fitBounds(o.viewport,{top:s.offsetHeight||206,left:200})})}),r.innerMap.setCenter(t.getCenter()),r.innerMap.fitBounds(t)})}async function y(){const{LatLng:a}=await google.maps.importLibrary("core");navigator.geolocation?navigator.geolocation.getCurrentPosition(i=>{const t=new a(i.coords.latitude,i.coords.longitude);r.innerMap.panTo(t),r.innerMap.setZoom(14)},()=>{console.log("The Geolocation service failed."),r.innerMap.setZoom(14)}):(console.log("Your browser doesn't support geolocation"),r.innerMap.setZoom(14))}window.initMap=g;
