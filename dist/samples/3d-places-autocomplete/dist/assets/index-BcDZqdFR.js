(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}})();let r=null;async function s(){const{Map3DElement:a}=await google.maps.importLibrary("maps3d");r=new a({center:{lat:0,lng:0,altitude:16e6},tilt:0,range:0,heading:0,roll:0,mode:"HYBRID",gestureHandling:"COOPERATIVE"}),document.body.append(r),d()}async function d(){const{PlaceAutocompleteElement:a}=await google.maps.importLibrary("places"),o=new google.maps.places.PlaceAutocompleteElement;o.id="place-autocomplete-input",document.getElementById("pac-container").appendChild(o),o.addEventListener("gmp-select",async({placePrediction:n})=>{const e=n.toPlace();if(await e.fetchFields({fields:["displayName","location","id"]}),!e.location){window.alert("No viewport for input: "+e.displayName);return}p(e)})}const p=async a=>{const{AltitudeMode:o,Polyline3DElement:l,Polygon3DElement:n,Marker3DElement:e}=await google.maps.importLibrary("maps3d"),t=a.location,i=await u(t),c=new e({position:{lat:t.lat(),lng:t.lng(),altitude:i+50},altitudeMode:o.ABSOLUTE,extruded:!0,label:a.displayName});r.append(c),r.flyCameraTo({endCamera:{center:{lat:t.lat(),lng:t.lng(),altitude:i+50},tilt:65,heading:0,range:1e3},durationMillis:1e4})};async function u(a){const{ElevationService:o}=await google.maps.importLibrary("elevation"),n=await new google.maps.ElevationService().getElevationForLocations({locations:[a]});if(!(n.results&&n.results.length)){window.alert(`Insufficient elevation data for place: ${place.name}`);return}return n.results[0].elevation||10}s();
