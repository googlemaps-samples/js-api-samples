(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function c(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=c(e);fetch(e.href,o)}})();const h=document.querySelector("gmp-map"),p=document.querySelector("gmp-place-autocomplete"),C=document.getElementById("summary-panel"),S=document.getElementById("place-name"),b=document.getElementById("place-address"),y=document.getElementById("tab-container"),l=document.getElementById("summary-content"),d=document.getElementById("ai-disclosure"),g=document.getElementById("flag-content-link");let s,v;async function w(){await Promise.all([google.maps.importLibrary("marker"),google.maps.importLibrary("places")]),s=h.innerMap,s.setOptions({mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),google.maps.event.addListener(s,"bounds_changed",async()=>{p.locationRestriction=s.getBounds()}),v=new google.maps.marker.AdvancedMarkerElement({map:s}),p.addEventListener("gmp-select",async({placePrediction:t})=>{const r=t.toPlace();await r.fetchFields({fields:["displayName","formattedAddress","location","generativeSummary","neighborhoodSummary","reviewSummary","evChargeAmenitySummary"]}),r.viewport?s.fitBounds(r.viewport):(s.setCenter(r.location),s.setZoom(17)),v.position=r.location,x(r)})}function x(t){C.classList.remove("hidden"),y.innerHTML="",l.textContent="",d.textContent="",S.textContent=t.displayName||"",b.textContent=t.formattedAddress||"";let r=!1;const c=(n,e,o,a)=>{const i=document.createElement("button");i.className="tab-button",i.textContent=n,i.onclick=()=>{i.classList.contains("active")||(document.querySelectorAll(".tab-button").forEach(m=>m.classList.remove("active")),i.classList.add("active"),typeof e=="string"?l.textContent=e:l.replaceChildren(e.cloneNode(!0)),d.textContent=o||"AI-generated content.",a&&(g.href=a,g.textContent="Report an issue"))},y.appendChild(i),r||(i.click(),r=!0)};if(t.generativeSummary?.overview&&c("Overview",t.generativeSummary.overview,t.generativeSummary.disclosureText,t.generativeSummary.flagContentURI),t.reviewSummary?.text&&c("Reviews",t.reviewSummary.text,t.reviewSummary.disclosureText,t.reviewSummary.flagContentURI),t.neighborhoodSummary?.overview?.content&&c("Neighborhood",t.neighborhoodSummary.overview.content,t.neighborhoodSummary.disclosureText,t.neighborhoodSummary.flagContentURI),t.evChargeAmenitySummary){const n=t.evChargeAmenitySummary,e=document.createDocumentFragment(),o=(a,i)=>{const m=document.createElement("div");m.style.marginBottom="15px";const u=document.createElement("strong");u.textContent=a;const f=document.createElement("div");return f.textContent=i,m.appendChild(u),m.appendChild(f),m};n.overview?.content&&e.appendChild(o("Overview",n.overview.content)),n.coffee?.content&&e.appendChild(o("Coffee",n.coffee.content)),n.restaurant?.content&&e.appendChild(o("Food",n.restaurant.content)),n.store?.content&&e.appendChild(o("Shopping",n.store.content)),e.hasChildNodes()&&c("EV Amenities",e,n.disclosureText,n.flagContentURI)}if(!r){const n=document.createElement("em");n.textContent="No AI summaries are available for this specific location.",l.replaceChildren(n),d.textContent=""}}w();
