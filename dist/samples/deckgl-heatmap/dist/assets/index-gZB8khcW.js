(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))g(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&g(d)}).observe(document,{childList:!0,subtree:!0});function u(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function g(o){if(o.ep)return;o.ep=!0;const n=u(o);fetch(o.href,n)}})();/*
 * @license
 * Copyright 2025 Google LLC. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */let l,p,f,c,s;async function b(){var r,a=document.querySelector(".mdc-linear-progress");a&&(r=new mdc.linearProgress.MDCLinearProgress(a),r.open(),r.determinate=!1,r.done=function(){r.close(),a?.remove()});const u={lat:37.77325660358167,lng:-122.41712341793448},{Map:g,InfoWindow:o}=await google.maps.importLibrary("maps"),{AdvancedMarkerElement:n}=await google.maps.importLibrary("marker"),d=document.getElementById("map");if(!d){console.error("Map element not found!");return}l=new g(d,{zoom:13,center:u,tilt:90,heading:-25,mapId:"6b73a9fe7e831a00",fullscreenControl:!1,clickableIcons:!1}),p=new deck.HeatmapLayer({id:"HeatmapLayer",data:"https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/sf-bike-parking.json",getPosition:t=>t.COORDINATES,getWeight:t=>t.SPACES,radiusPixels:25,visible:!0,pickable:!0,onHover:t=>{const e=document.getElementById("tooltip");if(e){if(console.log("Hovered object:",t.object),t.object){let i="<h4>Bike Parking Info:</h4>";t.object.ADDRESS!==void 0&&(i+=`<strong>Address:</strong> ${t.object.ADDRESS}<br>`),t.object.RACKS!==void 0&&(i+=`<strong>Racks:</strong> ${t.object.RACKS}<br>`),t.object.SPACES!==void 0&&(i+=`<strong>Spaces:</strong> ${t.object.SPACES}<br>`),e.innerHTML=i,e.style.left=t.x+"px",e.style.top=t.y+"px",e.style.display="block"}else e.style.display="none";console.log("Tooltip content set to:",e.innerHTML)}}}),p.pickable=!0,f=new deck.GoogleMapsOverlay({layers:[p],controller:!0}),f.setMap(l),r&&setTimeout(()=>{r.done()},100),s=new o,l.addListener("click",async t=>{const e=t.latLng;if(e)if(c){c.position=e;const i=`
          <div>Location: ${e.lat().toFixed(3)}, ${e.lng().toFixed(3)}</div>
          <div><a href="https://www.google.com/maps/search/?api=1&query=${e.lat()},${e.lng()}" target="_blank">Open in Google Maps</a></div>
        `;s.setContent(i),s.open(l,c)}else{c=new n({map:l,position:e,gmpClickable:!0}),c.addListener("click",()=>{s.close();const y=`
            <div>Location: ${e.lat().toFixed(3)}, ${e.lng().toFixed(3)}</div>
            <div><a href="https://www.google.com/maps/search/?api=1&query=${e.lat()},${e.lng()}" target="_blank">Open in Google Maps</a></div>
          `;s.setContent(y),s.open(l,c)});const i=`
          <div>Location: ${e.lat().toFixed(3)}, ${e.lng().toFixed(3)}</div>
          <div><a href="https://www.google.com/maps/search/?api=1&query=${e.lat()},${e.lng()}" target="_blank">Open in Google Maps</a></div>
        `;s.setContent(i),s.open(l,c)}});const m=document.getElementById("toggleButton");m&&m.addEventListener("click",()=>{const t=p.props.visible,e=p.clone({visible:!t});f.setProps({layers:[e]}),p=e,m.textContent=t?"Show Heatmap Layer":"Hide Heatmap Layer"})}b();
